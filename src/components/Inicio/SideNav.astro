---
// Menú lateral de navegación
const navItems = [
	{ href: "#inicio", label: "Inicio" },
	{ href: "#about", label: "Sobre mí" },
	{ href: "#skills", label: "Habilidades" },
	{ href: "#projects", label: "Proyectos" },
];
---

<!-- Botón hamburguesa (solo visible en móvil) -->
<button class="hamburger-btn" aria-label="Abrir menú de navegación">
	<span></span>
	<span></span>
	<span></span>
</button>

<!-- Overlay para cerrar el menú al hacer clic fuera -->
<div class="overlay"></div>

<nav class="side-nav">
	<ul>
		{
			navItems.map((item) => (
				<li>
					<a href={item.href}>{item.label}</a>
				</li>
			))
		}
	</ul>
</nav>

<script>
	const hamburgerBtn = document.querySelector(".hamburger-btn");
	const sideNav = document.querySelector(".side-nav");
	const overlay = document.querySelector(".overlay");
	const navLinks = document.querySelectorAll(".side-nav a");

	function toggleMenu() {
		hamburgerBtn?.classList.toggle("active");
		sideNav?.classList.toggle("active");
		overlay?.classList.toggle("active");
		document.body.style.overflow = sideNav?.classList.contains("active")
			? "hidden"
			: "";
	}

	function closeMenu() {
		hamburgerBtn?.classList.remove("active");
		sideNav?.classList.remove("active");
		overlay?.classList.remove("active");
		document.body.style.overflow = "";
	}

	hamburgerBtn?.addEventListener("click", toggleMenu);
	overlay?.addEventListener("click", closeMenu);
	navLinks.forEach((link) => {
		link.addEventListener("click", closeMenu);
	});
</script>

<style>
	.hamburger-btn {
		display: none;
		position: fixed;
		top: 1.5rem;
		left: 1.5rem;
		z-index: 1002;
		background: white;
		border: 2px solid #333;
		border-radius: 0.5rem;
		width: 3rem;
		height: 3rem;
		flex-direction: column;
		justify-content: center;
		align-items: center;
		gap: 0.4rem;
		cursor: pointer;
		transition: all 0.3s ease;
		padding: 0;
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
	}

	.hamburger-btn span {
		display: block;
		width: 1.5rem;
		height: 2px;
		background-color: #333;
		transition: all 0.3s ease;
		border-radius: 2px;
	}

	.hamburger-btn.active span:nth-child(1) {
		transform: translateY(0.6rem) rotate(45deg);
	}

	.hamburger-btn.active span:nth-child(2) {
		opacity: 0;
	}

	.hamburger-btn.active span:nth-child(3) {
		transform: translateY(-0.4rem) rotate(-45deg);
	}

	.overlay {
		display: none;
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: rgba(0, 0, 0, 0.5);
		z-index: 999;
		opacity: 0;
		transition: opacity 0.3s ease;
	}

	.overlay.active {
		opacity: 1;
	}

	.side-nav {
		position: fixed;
		top: 50%;
		left: 2rem;
		transform: translateY(-50%);
		z-index: 1000;
	}

	ul {
		list-style: none;
		padding: 0;
		margin: 0;
		display: flex;
		flex-direction: column;
		gap: 1rem;
	}

	li {
		text-align: left;
	}

	a {
		color: #333;
		text-decoration: none;
		font-size: 0.9rem;
		padding: 0.5rem 1rem;
		border-radius: 0.25rem;
		transition: all 0.3s ease;
		display: inline-block;
		border-left: 3px solid transparent;
		font-family: var(--font-textos);
	}

	a:hover {
		border-left-color: #333;
		padding-right: 1.5rem;
		font-weight: 600;
	}

	@media (max-width: 768px) {
		.hamburger-btn {
			display: flex;
		}

		.side-nav {
			position: fixed;
			top: 5rem;
			left: 1.5rem;
			transform: translateY(0);
			width: 250px;
			max-height: 0;
			background: white;
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
			border-radius: 0.5rem;
			padding: 0 1.5rem;
			transition:
				max-height 0.3s ease,
				padding 0.3s ease;
			z-index: 1001;
			overflow: hidden;
		}

		.side-nav.active {
			max-height: 400px;
			padding: 1.5rem;
		}

		.overlay.active {
			display: block;
		}

		ul {
			gap: 0.5rem;
		}

		a {
			font-size: 1rem;
			padding: 0.75rem 1rem;
			width: 100%;
			border-left: none;
			border-bottom: 2px solid transparent;
		}

		a:hover {
			background: #f5f5f5;
			border-bottom-color: #333;
			padding-right: 1rem;
		}
	}
</style>
