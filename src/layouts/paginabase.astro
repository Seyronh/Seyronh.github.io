---
import { ClientRouter } from "astro:transitions";
import { GoogleFontsOptimizer } from "astro-google-fonts-optimizer";
import SEOBase from "@components/Comun/SEOBase.astro";
import TexturaPapel from "@assets/textura_papel.png";
const backgroundImageUrl = `url(${TexturaPapel.src})`;
const { seo } = Astro.props;
---

<html lang="es">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="generator" content={Astro.generator} />
		<GoogleFontsOptimizer
			url="https://fonts.googleapis.com/css2?family=Literata:ital,opsz,wght@0,7..72,200..900;1,7..72,200..900&display=swap"
		/>
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
		<link rel="sitemap" href="/sitemap-index.xml" />
		<meta name="theme-color" content="#fdf8ef" />
		<meta
			name="google-site-verification"
			content="xfRUSl5UOWKRZzLfQJZsuTjcDHvXMGQ8EF9NKGsBOHk"
		/>
		<SEOBase
			titulo={seo.titulo}
			description={seo.description}
			canonical={seo.canonical}
			ogTitle={seo.ogTitle}
			isArticle={seo.isArticle}
		/>
		<ClientRouter />
	</head>
	<body>
		<main>
			<slot />
		</main>
	</body><style is:global define:vars={{ backgroundImageUrl }}>
		:root {
			--font-titulos: "Literata", sans-serif;
			--font-textos: "Literata", sans-serif;
			--color-fondo: #fdf8ef;

			/* Tipografía fluida - se adapta según el viewport */
			/* clamp(mínimo, preferido, máximo) */
			--font-size-base: clamp(1rem, 0.8rem + 1vw, 2rem);
			--font-size-h1: clamp(2rem, 1.5rem + 3vw, 4rem);
			--font-size-h2: clamp(1.5rem, 1.2rem + 2vw, 3rem);
			--font-size-h3: clamp(1.25rem, 1rem + 1.5vw, 2.5rem);
			--font-size-h4: clamp(1.125rem, 0.9rem + 1.2vw, 2rem);
			--font-size-p: clamp(1rem, 0.8rem + 1vw, 1.5rem);
		}
		html {
			scroll-snap-type: y mandatory;
			scroll-behavior: smooth;
			overflow-y: scroll;
			height: 100vh;
		}
		body {
			height: 100vh;
			font-family: var(--font-textos);
			margin: 0;
			background: var(--backgroundImageUrl) repeat;
			background-color: var(--color-fondo);
			color: #2d2b2b;
			font-size: var(--font-size-base);
		}
		main {
			height: 100vh;
			overflow-y: scroll;
			scroll-snap-type: y mandatory;
			scroll-behavior: smooth;
		}
		main > section {
			min-height: 100vh;
			scroll-snap-align: start;
			scroll-snap-stop: always;
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			text-align: center;
		}
		h1 {
			font-family: var(--font-titulos);
			font-size: var(--font-size-h1);
			margin: clamp(0.5rem, 0.3rem + 0.5vw, 1.5rem) 0;
		}
		h2 {
			font-family: var(--font-titulos);
			font-size: var(--font-size-h2);
			margin: clamp(0.5rem, 0.3rem + 0.5vw, 1.5rem) 0;
		}
		h3 {
			font-family: var(--font-titulos);
			font-size: var(--font-size-h3);
			margin: clamp(0.5rem, 0.3rem + 0.5vw, 1.5rem) 0;
		}
		h4 {
			font-family: var(--font-titulos);
			font-size: var(--font-size-h4);
			margin: clamp(0.5rem, 0.3rem + 0.5vw, 1.5rem) 0;
		}
		p {
			font-size: var(--font-size-p);
			margin: clamp(0.5rem, 0.3rem + 0.5vw, 1.5rem) 0;
		}
		nav {
			font-family: var(--font-titulos);
		}
	</style>
</html>
